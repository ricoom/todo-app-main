<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="stylesheet" href="style.css">
  <title>Frontend Mentor | Todo app</title>


</head>

<body>
<h2>TODO</h2> <button id="theme_toggler"><i><img src="/images/icon-moon.svg" alt=""></i></button>
<p id="done"></p>

  <input type="text" name="" id="add_td" class="card" placeholder="Create a new todo..">

<div id="myTodos" class="card todos">

</div>

 
  <script src="/script.js"></script>

  <script>
    let theme_toggler = document.querySelector('#theme_toggler');

    theme_toggler.addEventListener('click', function () {
      document.body.classList.toggle('dark_mode');
      if (document.body.classList.contains('dark_mode')) {
        localStorage.setItem('website_theme', 'dark_mode');
      } else {
        localStorage.setItem('website_theme', 'default');
      }
      console.log('clicked')
    });

    function retrieve_theme() {
      var theme = localStorage.getItem('website_theme');
      if (theme != null) {
        document.body.classList.remove('default', 'dark_mode');
        document.body.classList.add(theme);
      }
    }

    retrieve_theme();

    window.addEventListener("storage", function () {
      retrieve_theme();
    }, false);

  </script>
</body>

</html>